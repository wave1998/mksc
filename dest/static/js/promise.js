function SendAjax(e){var t=new XMLHttpRequest;if(t.open(e.method,e.url,e.async),t.onreadystatechange=function(){200==t.status&&4==t.readyState&&e.success(t.responseText)},"get"==e.method)t.send(null);else if("post"==e.method){t.setRequestHeader("content-type","application/x-www-form-urlencoded");var n="",a="";for(var s in e.data)n+=a+s+"="+e.data[s],a="&";t.send(n)}}function PAjax(n){return new Promise(function(t,e){SendAjax({method:n.method,url:n.url,data:n.data,async:n.async,success:function(e){t(e)}})})}